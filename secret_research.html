<!DOCTYPE html>
<html>
<head>
  <title>Save Tweets Bookmarklet</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      text-align: center;
      margin-top: 50px;
    }
    h1 {
      color: #333;
    }
    p {
      color: #555;
      font-size: 16px;
      margin-bottom: 20px;
    }
    .bookmarklet-link {
      display: inline-block;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s;
    }
    .bookmarklet-link:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <h1>Save Tweets</h1>
  <p>Drag the following link to your bookmarks bar:</p>
  <p>
    <a class="bookmarklet-link" href="javascript:(function()%7Bfunction%20extractTextFromElement(e)%7Blet%20t%3De.innerText.trim()%2Cr%3DArray.from(e.querySelectorAll('a%5Bhref%5E%3D%22%2F%22%5D')).map(e%3D%3E%60%24%7Be.textContent.trim()%7D%60).filter((e%2Ct%2Cr)%3D%3Er.indexOf(e)%3D%3D%3Dt)%3Breturn%20r.forEach(e%3D%3E%7Bt%3Dt.replace(RegExp(e%2C%22g%22)%2C%22%22)%2Ct%2B%3D%60%20%24%7Be%7D%60%7D)%2Ct.trim()%7Dfunction%20getMarkdownLink(e%2Ct)%7Breturn%60%5B%24%7Bt%7D%5D(%24%7Be%7D)%60%7Dfunction%20downloadTweets()%7Bconsole.log(%22Downloading%20tweets...%22)%3Blet%20e%3D(()%3D%3E%7Blet%20e%3Ddocument.querySelectorAll('div%5Bdata-testid%3D%22cellInnerDiv%22%5D')%3Bif(!e%7C%7C0%3D%3D%3De.length)return%5B%5D%3Blet%20t%3D%5B%5D%3Breturn%20e.forEach(e%3D%3E%7Blet%20r%3D%22%22%2Cl%3De.querySelectorAll(%22%5Blang%5D%20%3E%20span%2C%20%5Blang%5D%20%3E%20div%20%3E%20span%22)%3Br%3DArray.from(l).map(e%3D%3EextractTextFromElement(e)).join(%22%20%22)%3Blet%20i%3De.querySelector(%22time%22)%2Cn%3Di%3Fi.getAttribute(%22datetime%22)%3Anull%3Bif(!n)return%3Blet%20o%3D%22%22%2Ca%3De.querySelector('div%5Bid%5E%3D%22id__%22%5D%20%3E%20div.css-175oi2r%20%3E%20a%5Bhref%5E%3D%22%2F%22%5D')%3Bif(a)%7Blet%20s%3Da.textContent.trim()%3Bo%3Ds.startsWith(%22%40%22)%3Fs%3A%22%22%7Dlet%20u%3D%22%22%2Cc%3D%22%22%2Cd%3De.querySelector(%22div.css-175oi2r.r-adacv.r-1udh08x.r-1kqtdi0.r-1867qdf.r-rs99b7.r-o7ynqc.r-6416eg.r-1ny4l3l.r-1loqt21%22)%3Bif(d)%7Blet%20m%3Dd.querySelectorAll(%22%5Blang%5D%20%3E%20span%2C%20%5Blang%5D%20%3E%20div%20%3E%20span%22)%3Bu%3DArray.from(m).map(e%3D%3EextractTextFromElement(e)).join(%22%20%22)%2Cr.endsWith(u)%26%26(r%3Dr.slice(0%2C-u.length).trim())%3Blet%20p%3DArray.from(d.querySelectorAll(%22span.css-1qaijid.r-bcqeeo.r-qvutc0.r-poiln3%22)).find(e%3D%3Ee.innerText.trim().startsWith(%22%40%22))%3Bc%3Dp%3Fp.innerText.trim()%3A%22%22%7Dlet%20f%3De.querySelectorAll('a%5Bhref%5E%3D%22https%22%5D')%2Cg%3D%5B%5D%3Bf.forEach(e%3D%3E%7Blet%20t%3De.getAttribute(%22href%22)%2Cl%3De.textContent.trim()%2Ci%3DgetMarkdownLink(t%2Cl)%3Bg.push(i)%2Cr%2B%3D%60%20%24%7Bi%7D%60%7D)%3Blet%20w%3De.querySelectorAll('img%5Balt%3D%22Image%22%5D')%2Ch%3D%5B%5D%3Bw.forEach(e%3D%3E%7Blet%20t%3De.getAttribute(%22src%22)%3Bh.push(t)%7D)%3Blet%20v%3De.querySelector('div%5Baria-label*%3D%22replies%22%5D%2C%20div%5Baria-label*%3D%22reposts%22%5D%2C%20div%5Baria-label*%3D%22likes%22%5D%2C%20div%5Baria-label*%3D%22bookmarks%22%5D%2C%20div%5Baria-label*%3D%22views%22%5D')%2Cx%3D0%2Cb%3D0%2Cq%3D0%2Cy%3D0%2C%24%3D0%3Bif(v)%7Blet%20k%3Dv.getAttribute(%22aria-label%22)%2CT%3Dk.split(%22%2C%20%22)%3BT.forEach(e%3D%3E%7Be.includes(%22replies%22)%3Fx%3DparseInt(e.split(%22%20%22)%5B0%5D)%3Ae.includes(%22reposts%22)%3Fb%3DparseInt(e.split(%22%20%22)%5B0%5D)%3Ae.includes(%22likes%22)%3Fq%3DparseInt(e.split(%22%20%22)%5B0%5D)%3Ae.includes(%22bookmarks%22)%3Fy%3DparseInt(e.split(%22%20%22)%5B0%5D)%3Ae.includes(%22views%22)%26%26(%24%3DparseInt(e.split(%22%20%22)%5B0%5D))%7D)%7Dt.push(%7Btime%3An%2Ctext%3Ar%2Cmedia%3Ah%2CreplyingTo%3Ao%2CretweetContent%3Au%2CquotedTweetUsername%3Ac%2CreplyCount%3Ax%2CrepostCount%3Ab%2ClikeCount%3Aq%2CbookmarkCount%3Ay%2CviewCount%3A%24%7D)%7D)%2Ct.filter(e%3D%3Ee.time)%7D)()%3Bif(0%3D%3D%3De.length)%7Bconsole.log(%22No%20tweets%20found.%22)%3Breturn%7Dlet%20t%3D%22Datetime%2CReplyingTo%2CTweet%2CQuotedTweet%2CQuotedTweetUsername%2CPhotos%2CReplyCount%2CRepostCount%2CLikeCount%2CBookmarkCount%2CViewCount%5Cn%22%2Be.map(e%3D%3E%7Blet%20t%3D%60%22%24%7Be.time%7D%22%60%2Cr%3D%60%22%24%7Be.replyingTo.replace(%2F%22%2Fg%2C'%22%22')%7D%22%60%2Cl%3D%60%22%24%7Be.text.replace(%2F%22%2Fg%2C'%22%22')%7D%22%60%2Ci%3D%60%22%24%7Be.retweetContent.replace(%2F%22%2Fg%2C'%22%22')%7D%22%60%2Cn%3D%60%22%24%7Be.quotedTweetUsername%7D%22%60%2Co%3De.media.map(e%3D%3E%60%22%24%7Be%7D%22%60).join(%22%3B%22)%2Ca%3D%60%24%7Be.replyCount%7D%2C%24%7Be.repostCount%7D%2C%24%7Be.likeCount%7D%2C%24%7Be.bookmarkCount%7D%2C%24%7Be.viewCount%7D%60%3Breturn%60%24%7Bt%7D%2C%24%7Br%7D%2C%24%7Bl%7D%2C%24%7Bi%7D%2C%24%7Bn%7D%2C%24%7Bo%7D%2C%24%7Ba%7D%60%7D).join(%22%5Cn%22)%2Cr%3Dnew%20Blob(%5Bnew%20Uint8Array(%5B239%2C187%2C191%5D)%2Ct%5D%2C%7Btype%3A%22text%2Fcsv%3Bcharset%3Dutf-8%22%7D)%2Cl%3Ddocument.createElement(%22a%22)%3Bl.href%3Dwindow.URL.createObjectURL(r)%2Cl.download%3D%22tweets_data.csv%22%2Cl.click()%2Cconsole.log(%22Tweets%20downloaded%20successfully%20as%20tweets_data.csv%22)%7DdownloadTweets()%3B%7D)()%3B">Save Tweets</a>
  </p>
  <p>Instructions: Click the "Save Tweets" bookmarklet while on Twitter to download tweet data.</p>
</body>
</html>
